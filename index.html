// HTML file (index.html)
<!DOCTYPE html>
<html>
<head>
    <title>Dynamic Email Sender</title>
</head>
<body>
    <script>
        async function sendEmail(recipientEmail, message) {
            const FORMSPREE_ENDPOINT = 'https://formspree.io/f/REPLACE_THIS'; // Replace with your Formspree endpoint
            
            try {
                const response = await fetch(FORMSPREE_ENDPOINT, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        email: recipientEmail,
                        message: message
                    })
                });
                
                if (response.ok) {
                    console.log('Email sent successfully!');
                    return true;
                } else {
                    console.error('Failed to send email');
                    return false;
                }
            } catch (error) {
                console.error('Error sending email:', error);
                return false;
            }
        }

        // Example usage:
        // sendEmail('recipient@example.com', 'Hello from my website!');
    </script>
</body>
</html>

// Example usage in your JavaScript code:
// You can call this function from anywhere in your code
async function sendWelcomeEmail(userEmail) {
    await sendEmail(
        userEmail,
        `Welcome to our service! We're excited to have you on board.`
    );
}

// Example of sending a notification email
async function sendNotification(userEmail, eventDetails) {
    await sendEmail(
        userEmail,
        `New event notification: ${eventDetails}`
    );
}

// Example of sending a custom email based on user actions
async function sendCustomEmail(userEmail, userName, orderDetails) {
    const message = `
        Dear ${userName},
        
        Thank you for your order #${orderDetails.orderId}.
        Total amount: $${orderDetails.total}
        
        We'll ship your items to:
        ${orderDetails.shippingAddress}
        
        Best regards,
        Your Store Team
    `;
    
    await sendEmail(userEmail, message);
}
